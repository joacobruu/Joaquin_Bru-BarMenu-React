(this["webpackJsonpjoaquin-bru-bar-menu"]=this["webpackJsonpjoaquin-bru-bar-menu"]||[]).push([[0],{111:function(e,t,c){},112:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(18),r=c.n(i),o=c(146),l=c(147),s=c(148),d=c(88),j=c(23),b=c(80),u=c.n(b),m=c(142),h=c(4),p=function(e){var t=e.badgeTotal;return Object(h.jsx)("div",{children:Object(h.jsx)(m.a,{badgeContent:t,color:"error",children:Object(h.jsx)(u.a,{})})})},O=c(85),x=c(26),f=Object(n.createContext)(),g=function(){return Object(n.useContext)(f)},v=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(x.a)(c,2),i=a[0],r=a[1];return Object(h.jsx)(f.Provider,{value:{cart:i,mostrarListado:function(){console.log(i)},agregarAlCarrito:function(e){if(e.cantidad>0){var t=!1;i.forEach((function(c){c.producto.id===e.producto.id&&(c.cantidad+=e.cantidad,t=!0)})),t||r([].concat(Object(O.a)(i),[e])),console.log(i)}},removeItem:function(e){var t=i.filter((function(t){return t.cantidad.id===e}));r(t),console.log(i)},isInCart:function(e){var t=!1;return i.forEach((function(c){c.producto.id===e&&(t=!0)})),t},getCartTotal:function(){return i.length},clear:function(){r([])},getTotalPrice:function(){var e=0;return i.forEach((function(t){e+=t.cantidad*t.producto.precio})),console.log(e),e}},children:t})},C=Object(o.a)({toolBar:{display:"flex",justifyContent:"space-between"},linksContainer:{display:"flex",width:"40%",justifyContent:"space-evenly"},links:{color:"#fff",textDecoration:"none","$:visited":{color:"#fff"}}}),y=function(){var e=g().getCartTotal,t=C();return Object(h.jsx)("div",{children:Object(h.jsx)(l.a,{position:"static",children:Object(h.jsxs)(s.a,{className:t.toolBar,children:[Object(h.jsx)(d.a,{variant:"h1",style:{fontSize:"1.5rem",fontWeight:"bold"},children:Object(h.jsx)(j.c,{className:t.links,exact:!0,to:"/",children:"MAKE-UP"})}),Object(h.jsxs)("div",{className:t.linksContainer,children:[Object(h.jsx)(d.a,{children:Object(h.jsx)(j.c,{className:t.links,activeStyle:{textDecoration:"underline"},exact:!0,to:"/",children:"Home"})}),Object(h.jsx)(d.a,{children:Object(h.jsx)(j.c,{className:t.links,activeStyle:{textDecoration:"underline"},exact:!0,to:"/categoria/paletas",children:"Paletas"})}),Object(h.jsx)(d.a,{children:Object(h.jsx)(j.c,{className:t.links,activeStyle:{textDecoration:"underline"},exact:!0,to:"/categoria/labiales",children:"Labiales"})}),Object(h.jsx)(d.a,{children:Object(h.jsx)(j.c,{className:t.links,activeStyle:{textDecoration:"underline"},exact:!0,to:"/categoria/delineadores",children:"Delineadores"})})]}),Object(h.jsx)(j.c,{className:t.links,exact:!0,to:"/carrito",children:Object(h.jsx)(p,{badgeTotal:e()})})]})})})},k=c(22),N=c(151),w=c(114),S=c(16),T=c(70),D=(c(110),T.a.initializeApp({apiKey:"AIzaSyCDwE2Mc99B_Vk7Tfz8Lg_sj0k1dR1eIXg",authDomain:"proyecto-react-makeup.firebaseapp.com",projectId:"proyecto-react-makeup",storageBucket:"proyecto-react-makeup.appspot.com",messagingSenderId:"427869632538",appId:"1:427869632538:web:9918cede21c534a7ccf9a3"}));function E(){return T.a.firestore(D)}var I=c(149),A=c(150),B=Object(w.a)({imgDiv:{height:300,width:300},links:{textDecoration:"none"}}),W=function(e){var t=e.img,c=e.marca,n=e.precio,a=e.nombre,i=e.id,r=B();return Object(h.jsx)("div",{children:Object(h.jsx)(j.b,{className:r.links,to:"/detalle/"+i,children:Object(h.jsx)(I.a,{children:Object(h.jsxs)(A.a,{children:[Object(h.jsx)("div",{className:r.imgDiv,children:Object(h.jsx)("img",{style:{width:"100%",height:"100%"},src:t,alt:a})}),Object(h.jsx)(d.a,{variant:"h5",component:"p",children:c}),Object(h.jsx)(d.a,{component:"p",children:a}),Object(h.jsx)(d.a,{component:"p",children:"$"+n})]})})})})},P=Object(w.a)({container:{display:"flex",justifyContent:"center",width:"100%",flexWrap:"wrap",gap:10,minHeight:"100vh"}}),z=function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),r=Object(x.a)(i,2),o=r[0],l=r[1],s=Object(S.f)().idCategoria;Object(n.useEffect)((function(){setTimeout((function(){l(!1)}),2e3);var e=E();"labiales"===s&&e.collection("productos").where("categoria","==","labiales").get().then((function(e){return a(e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())})))}));"paletas"===s&&e.collection("productos").where("categoria","==","paletas").get().then((function(e){return a(e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())})))}));"delineadores"===s&&e.collection("productos").where("categoria","==","delineadores").get().then((function(e){return a(e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())})))}));void 0===s&&e.collection("productos").get().then((function(e){return a(e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())})))}))}),[s]),console.log(c);var d=P();return Object(h.jsx)("div",{className:d.container,children:o?Object(h.jsx)(N.a,{}):c.map((function(e){return Object(h.jsx)(W,{img:e.img,marca:e.marca,precio:e.precio,nombre:e.nombre,id:e.id},e.id)}))})},$=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(z,{})})},H=c(83),F=c.n(H),L=c(82),M=c.n(L),R=c(157),V=Object(o.a)({container:{display:"flex",flexDirection:"column",width:"70%",marginBottom:"1rem",marginTop:"1rem"},containerCant:{display:"flex",justifyContent:"space-evenly"},cant:{fontSize:"1rem"},icon:{color:"#3F51B5"},span:{"&:hover":{cursor:"pointer"}},containerBtn:{display:"flex"},btn:{marginRight:".5rem"}}),q=function(e){var t=e.initial,c=e.stock,a=e.onAdd,i=Object(n.useState)(t),r=Object(x.a)(i,2),o=r[0],l=r[1],s=Object(n.useState)("Agregar al Carrito"),b=Object(x.a)(s,2),u=b[0],m=b[1],p=V();return Object(h.jsxs)("div",{className:p.container,children:[Object(h.jsxs)("div",{className:p.containerCant,children:[Object(h.jsx)("span",{className:p.span,onClick:function(){o>1&&l(o-1)},children:Object(h.jsx)(M.a,{className:p.icon})}),Object(h.jsx)(d.a,{component:"p",className:p.cant,children:o}),Object(h.jsx)("span",{className:p.span,onClick:function(){o<c&&l(o+1)},children:Object(h.jsx)(F.a,{className:p.icon})})]}),Object(h.jsxs)("div",{className:p.containerBtn,children:["Agregar al Carrito"===u?Object(h.jsx)("div",{children:c>=1?Object(h.jsx)(R.a,{className:p.btn,onClick:function(){return console.log(o),a(o),l(t),void m("Comprar")},variant:"contained",color:"primary",children:"Agregar al Carrito"}):Object(h.jsx)(R.a,{className:p.btn,variant:"contained",color:"primary",disabled:!0,children:"Agregar al Carrito"})}):Object(h.jsx)(j.b,{exact:!0,to:"/carrito",children:Object(h.jsx)(R.a,{className:p.btn,variant:"contained",color:"primary",children:"Terminar Compra"})}),Object(h.jsx)(j.b,{exact:!0,to:"/",children:Object(h.jsx)(R.a,{variant:"contained",children:"Volver"})})]})]})},J=Object(w.a)({cardContent:{display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100vh"},titulo:{fontSize:"2.5rem"},containerP:{maxWidth:"50%"},p:{marginTop:"1rem",fontSize:"1rem"},nombre:{fontWeight:"bold"},precio:{fontWeight:"bold",marginBottom:"1rem"},img:{maxWidth:"300px"}}),K=function(e){var t=e.producto,c=J(),n=g(),a=n.cart,i=n.agregarAlCarrito;return console.log(a),Object(h.jsx)("div",{children:Object(h.jsx)(I.a,{children:Object(h.jsxs)(A.a,{className:c.cardContent,children:[Object(h.jsx)("div",{className:c.img,children:Object(h.jsx)("img",{src:t.img,alt:t.nombre,style:{width:"100%"}})}),Object(h.jsxs)("div",{className:c.containerP,children:[Object(h.jsx)(d.a,{component:"h4",className:c.titulo,children:t.marca}),Object(h.jsx)(d.a,{component:"p",className:"".concat(c.p," ").concat(c.nombre),children:t.nombre}),Object(h.jsx)(d.a,{component:"p",className:c.p,children:t.descripcion}),Object(h.jsx)(d.a,{component:"p",className:"".concat(c.p," ").concat(c.precio),children:"$"+t.precio}),Object(h.jsxs)(d.a,{component:"p",children:["Disponible: ",t.stock]}),Object(h.jsx)(q,{stock:t.stock,initial:t.stock>=1?1:0,onAdd:function(e){i({producto:t,cantidad:e})}})]})]})})})},_=function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),r=Object(x.a)(i,2),o=r[0],l=r[1],s=Object(S.f)().idProducto;return Object(n.useEffect)((function(){setTimeout((function(){l(!1)}),2e3),E().collection("productos").doc(s).get().then((function(e){return a([Object(k.a)({id:e.id},e.data())])}))}),[s]),Object(h.jsx)("div",{style:{width:"70%",minHeight:"100vh",display:"flex",justifyContent:"center"},children:o?Object(h.jsx)(N.a,{}):c.map((function(e){return Object(h.jsx)(K,{producto:e},e.id)}))})},U=c(84),X=c.n(U),G=Object(o.a)({container:{display:"flex",maxHeight:"4rem",alignItems:"center",justifyContent:"space-between"},img:{width:"80px",height:"80px"},delete:{color:"red",cursor:"pointer"}});var Q=function(e){var t=e.producto,c=e.cantidad,n=e.remove,a=G();return Object(h.jsx)("div",{children:Object(h.jsx)(I.a,{children:Object(h.jsxs)(A.a,{className:a.container,children:[Object(h.jsx)("div",{className:a.img,children:Object(h.jsx)("img",{style:{width:"100%",height:"100%"},src:t.img,alt:t.nombre})}),Object(h.jsx)(d.a,{variant:"h5",component:"p",children:t.marca}),Object(h.jsx)(d.a,{component:"p",children:t.nombre}),Object(h.jsxs)(d.a,{component:"p",children:["$ ",t.precio]}),Object(h.jsxs)(d.a,{component:"p",children:["x",c]}),Object(h.jsx)(X.a,{className:a.delete,onClick:function(){return n(t.id)}})]})})})},Y=c(159),Z=c(152),ee=c(153),te=c(154),ce=c(156),ne=c(155),ae=function(e){var t=e.cart,c=e.total,a=Object(n.useState)(!1),i=Object(x.a)(a,2),r=i[0],o=i[1],l=Object(n.useState)({nombre:"",telefono:"",email:"",checkEmail:"",direccion:""}),s=Object(x.a)(l,2),d=s[0],j=s[1],b=function(){o(!1)};return Object(h.jsxs)("div",{children:[Object(h.jsx)(R.a,{variant:"contained",color:"primary",onClick:function(){o(!0)},children:"Comprar"}),Object(h.jsxs)(Y.a,{open:r,onClose:b,"aria-labelledby":"form-dialog-title",children:[Object(h.jsx)(Z.a,{id:"form-dialog-title",children:"Terminar compra"}),Object(h.jsxs)(ee.a,{children:[t.map((function(e){return Object(h.jsx)(te.a,{children:"".concat(e.producto.nombre," x").concat(e.cantidad," $").concat(e.producto.precio*e.cantidad)},e.producto.id)})),Object(h.jsx)(te.a,{children:"Total: $".concat(c())}),Object(h.jsx)(ce.a,{autoFocus:!0,margin:"dense",id:"nombre",label:"Nombre",type:"text",onChange:function(e){j((function(t){return Object(k.a)(Object(k.a)({},t),{},{nombre:e.target.value})}))},fullWidth:!0}),Object(h.jsx)(ce.a,{margin:"dense",id:"telefono",label:"Telefono",type:"number",onChange:function(e){j((function(t){return Object(k.a)(Object(k.a)({},t),{},{telefono:e.target.value})}))},fullWidth:!0}),Object(h.jsx)(ce.a,{margin:"dense",id:"email",label:"Email",type:"email",onChange:function(e){j((function(t){return Object(k.a)(Object(k.a)({},t),{},{email:e.target.value})}))},fullWidth:!0}),Object(h.jsx)(ce.a,{margin:"dense",id:"emailConfirm",label:"Reperir Email",type:"email",onChange:function(e){j((function(t){return Object(k.a)(Object(k.a)({},t),{},{checkEmail:e.target.value})}))},fullWidth:!0}),Object(h.jsx)(ce.a,{margin:"dense",id:"direccion",label:"Direccion",type:"text",onChange:function(e){j((function(t){return Object(k.a)(Object(k.a)({},t),{},{direccion:e.target.value})}))},fullWidth:!0})]}),Object(h.jsxs)(ne.a,{children:[Object(h.jsx)(R.a,{onClick:b,color:"primary",children:"Cancelar"}),Object(h.jsx)(R.a,{onClick:function(e){if(e.preventDefault(),function(){for(var e in d)if(""===d[e])return!1;return!0}())if(d.email===d.checkEmail){var n={};n.buyer=d,n.total=c(),n.fecha=new Date,n.items=t.map((function(e){return{id:e.producto.id,nombre:e.producto.nombre,cantidad:e.cantidad,precio:e.producto.precio*e.cantidad}})),console.log(n),E().collection("orders").add(n).then((function(e){return alert("Compra exitosa, su id de seguimiento es: ".concat(e.id))})),b()}else alert("El email debe coincidir");else alert("Complete todos los campos")},variant:"contained",color:"primary",children:"Comprar"})]})]})]})},ie=function(){var e=g(),t=e.cart,c=e.removeItem,n=e.clear,a=e.getCartTotal,i=e.getTotalPrice;return Object(h.jsxs)("div",{style:{width:"90%",display:"flex",flexDirection:"column",gap:"1rem"},children:[a()>0?Object(h.jsxs)("div",{children:[t.map((function(e){return Object(h.jsx)(Q,{remove:c,producto:e.producto,cantidad:e.cantidad},e.producto.id)})),Object(h.jsx)(I.a,{children:Object(h.jsxs)(A.a,{children:[Object(h.jsx)(d.a,{variant:"h5",component:"p",children:"Total: $".concat(i())}),Object(h.jsx)(ae,{cart:t,total:i})]})})]}):Object(h.jsx)(j.b,{exact:!0,to:"/",children:Object(h.jsx)("span",{style:{color:"white"},children:"INICIO"})}),Object(h.jsx)("span",{style:{color:"white"},onClick:function(){return n()},children:"Vaciar Carrito"})]})};var re=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(v,{children:Object(h.jsxs)(j.a,{children:[Object(h.jsx)(y,{}),Object(h.jsx)("div",{style:{backgroundColor:"#030708",paddingTop:30,paddingBottom:30,width:"100%",display:"flex",justifyContent:"center",minHeight:"100vh"},children:Object(h.jsxs)(S.c,{children:[Object(h.jsx)(S.a,{exact:!0,path:"/",children:Object(h.jsx)($,{})}),Object(h.jsx)(S.a,{path:"/categoria/:idCategoria",exact:!0,children:Object(h.jsx)($,{})}),Object(h.jsx)(S.a,{exact:!0,path:"/detalle/:idProducto",children:Object(h.jsx)(_,{})}),Object(h.jsx)(S.a,{exact:!0,path:"/carrito",children:Object(h.jsx)(ie,{})})]})})]})})})};c(111);r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(re,{})}),document.getElementById("root"))}},[[112,1,2]]]);
//# sourceMappingURL=main.5c4bb93c.chunk.js.map